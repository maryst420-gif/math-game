<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¨Ø§Ø²ÛŒ Ø¶Ø±Ø¨ Ø´Ø´Ù…</title>

<style>
body{background:#eef2ff;transition:0.5s;font-family:tahoma;text-align:center;}
#gameBox{max-width:440px;margin:auto;padding:20px;background:#fff;border-radius:22px;box-shadow:0 14px 35px rgba(0,0,0,.2);transition:0.5s;}

.bigInput{
  width:70%;
  padding:16px;
  font-size:18px;
  border-radius:12px;
  margin:8px 0;
  box-sizing:border-box;
}

/* ===== wrapper Ù†Ø§Ù… Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ² (Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ± Ø§Ù†Ø¯Ø§Ø²Ù‡) ===== */
.input-wrapper{
  position:relative;
  width:70%;
  margin:8px auto;
}

/* ÙÙ‚Ø· ÙØ¶Ø§ÛŒ Ù„ÙˆÚ¯Ùˆ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù‡ */
.input-wrapper .bigInput{
  width:100%;
  padding-right:52px;
}

/* Ù„ÛŒÙ†Ú© Ù„ÙˆÚ¯Ùˆ â€“ Ú©Ø§Ù…Ù„Ø§Ù‹ Ú†Ø³Ø¨ÛŒØ¯Ù‡ Ø±Ø§Ø³Øª */
.logo-link{
  position:absolute;
  right:6px;
  top:50%;
  transform:translateY(-50%);
  height:100%;
  display:flex;
  align-items:center;
}

/* Ù„ÙˆÚ¯Ùˆ Ù‡Ù…â€ŒÙ‚Ø¯ Ø¨Ø§Ú©Ø³ + Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø³ÛŒâ€ŒØ³Ø§ */
.logo-link img{
  height:65%;
  animation:seesaw 1.8s ease-in-out infinite;
  transform-origin:center bottom;
}

/* Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø³ÛŒâ€ŒØ³Ø§ (Ù†Ù‡ Ø¯Ø§ÛŒØ±Ù‡â€ŒØ§ÛŒ) */
@keyframes seesaw{
  0%{transform:rotate(-10deg)}
  50%{transform:rotate(10deg)}
  100%{transform:rotate(-10deg)}
}

/* ===== Ø¨Ù‚ÛŒÙ‡ Ú©Ø¯ Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ± ===== */
.row{display:flex;gap:10px;margin:10px 0;}
.card{flex:1;padding:14px;border-radius:14px;background:#e3e9ff;font-weight:bold;cursor:pointer;transition:.3s;text-align:center;font-size:16px;}
.card.active{background:#5c6bc0;color:#fff;}
#timerBox{padding:16px;background:#ffe082;font-size:22px;cursor:pointer;margin:12px 0;display:flex;align-items:center;justify-content:center;gap:10px;border-radius:50px;transition:0.3s;}
.timerIcon{width:50px;height:50px;background:#ffc107;display:flex;align-items:center;justify-content:center;border-radius:50%;font-size:22px;}
#question{font-size:36px;font-weight:bold;color:#3f51b5;margin:14px 0;}
.answerRow{display:flex;gap:8px;justify-content:center;align-items:center;}
#submitBtn{flex:1;background:linear-gradient(135deg,#3949ab,#1e88e5);color:#fff;font-size:18px;border:none;border-radius:14px;height:56px;font-weight:bold;box-shadow:0 6px 14px rgba(0,0,0,.25);display:flex;align-items:center;justify-content:center;gap:6px;}
#submitBtn:active{transform:scale(.97);}
.answerRow input{flex:2;height:56px;font-size:20px;}
#ok{color:green;font-weight:bold;}
#bad{color:red;font-weight:bold;}
#score{margin-top:12px;font-weight:bold;}
#feedback.correct{color:green;}
#feedback.wrong{color:red;}

@media print{
#timerBox,.row,.answerRow,button,#feedback{display:none;}
body{background:white;}
}
</style>
</head>

<body>
<div id="gameBox">

<h2>ğŸ¯ Ø¨Ø§Ø²ÛŒ Ø¶Ø±Ø¨ Ø´Ø´Ù…</h2>

<!-- ===== Ù†Ø§Ù… Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ² Ø¨Ø§ Ù„ÙˆÚ¯ÙˆÛŒ Ø¯Ù‚ÛŒÙ‚ ===== -->
<div class="input-wrapper">
  <input id="studentName" class="bigInput" placeholder="ğŸ‘¤ Ù†Ø§Ù… Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²">
  <a href="https://mizedanesh.blogfa.com/" target="_blank" class="logo-link">
    <img src="https://s6.uupload.ir/files/logos1_f7lj.png" alt="Ù„ÙˆÚ¯Ùˆ">
  </a>
</div>

<div class="row">
  <div class="card active" onclick="setMode('test',this)">ğŸ“ Ø¢Ø²Ù…ÙˆÙ†</div>
  <div class="card" onclick="setMode('practice',this)">ğŸ§  ØªÙ…Ø±ÛŒÙ†ÛŒ</div>
</div>

<div class="row">
  <div class="card active" onclick="setLevel(this)">ğŸŒ± Ø¢Ø³Ø§Ù†</div>
  <div class="card" onclick="setLevel(this)">âš¡ Ù…ØªÙˆØ³Ø·</div>
  <div class="card" onclick="setLevel(this)">ğŸ”¥ Ø³Ø®Øª</div>
</div>

<div id="timerBox" onclick="startGame()">
  <div class="timerIcon">â±</div> Ø´Ø±ÙˆØ¹
</div>

<div id="question"></div>
<div id="shape"></div>

<div class="answerRow">
  <input type="number" id="answer" class="bigInput" placeholder="Ø¬ÙˆØ§Ø¨ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³"
         onkeydown="if(event.key==='Enter')checkAnswer()">
  <button id="submitBtn" onclick="checkAnswer()">Ø«Ø¨Øª Ø¬ÙˆØ§Ø¨</button>
</div>

<div class="row" style="justify-content:center; margin-top:12px;">
  <div class="card" onclick="saveReport()">ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡</div>
  <div class="card" onclick="window.print()">ğŸ–¨ Ú†Ø§Ù¾</div>
</div>

<div id="score">âœ… <span id="ok">0</span> | âŒ <span id="bad">0</span></div>
<div id="feedback" style="font-size:24px;font-weight:bold;margin-top:12px;"></div>

</div>

<script>
let mode="test",level="easy";
let a,b,correct;
let ok=0,bad=0,count=0;
let time=10,timer=null;
let studentSaved="";
const okSpan=document.getElementById("ok");
const badSpan=document.getElementById("bad");
const feedback=document.getElementById("feedback");
const submitBtn=document.getElementById("submitBtn");

function setMode(m,el){
  mode=m;
  el.parentNode.querySelectorAll('.card').forEach(c=>c.classList.remove('active'));
  el.classList.add('active');
}
function setLevel(el){
  el.parentNode.querySelectorAll('.card').forEach(c=>c.classList.remove('active'));
  el.classList.add('active');
  level=el.innerText;
}
function startGame(){
  if(!studentSaved){
    if(studentName.value.trim()===""){alert("Ù†Ø§Ù… Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†");return;}
    studentSaved=studentName.value;
  }
  ok=bad=count=0;
  updateScore();
  newQuestion();
}
function getRange(){
  if(level.includes("Ø¢Ø³Ø§Ù†")) return [1,5];
  if(level.includes("Ù…ØªÙˆØ³Ø·")) return [2,7];
  return [3,10];
}
function newQuestion(){
  clearInterval(timer);
  count++;
  answer.value="";
  feedback.innerText="";
  submitBtn.innerHTML="Ø«Ø¨Øª Ø¬ÙˆØ§Ø¨";
  let [min,max]=getRange();
  a=Math.floor(Math.random()*(max-min+1))+min;
  b=Math.floor(Math.random()*(max-min+1))+min;
  correct=a*b;
  question.innerHTML=`${a} Ã— ${b}`;
  shape.innerHTML="";
  if(mode==="practice"){
    for(let i=0;i<a;i++) shape.innerHTML+="â— ".repeat(b)+"<br>";
    timerBox.innerHTML="ğŸ§  ØªÙ…Ø±ÛŒÙ†ÛŒ";
  }else startTimer();
}
function startTimer(){
  time=15;
  timerBox.innerHTML='<div class="timerIcon">â±</div> '+time;
  timer=setInterval(()=>{
    time--;
    timerBox.innerHTML='<div class="timerIcon">â±</div> '+time;
    if(time<=0){
      clearInterval(timer);
      bad++;
      updateScore();
      showFeedback(false);
      checkEnd();
    }
  },1000);
}
function checkAnswer(){
  clearInterval(timer);
  if(Number(answer.value)===correct){ok++;showFeedback(true);}
  else{bad++;showFeedback(false);}
  updateScore();
  checkEnd();
}
function showFeedback(isCorrect){
  feedback.innerText=isCorrect?"Ø¯Ø±Ø³Øª!":"Ø§Ø´ØªØ¨Ø§Ù‡!";
  feedback.className=isCorrect?"correct":"wrong";
}
function updateScore(){okSpan.innerText=ok;badSpan.innerText=bad;}
function checkEnd(){
  if(count>=10)return;
  setTimeout(newQuestion,600);
}
function saveReport(){window.print();}
</script>

</body>
</html>

